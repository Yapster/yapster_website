<polymer-element name="my-header">
    <template>
        <style>
            #header-poly {
                height: 60px;
            }
            #toolbar_header {
                background-color: #16d301;
            }
            #search_bar {
                margin-left: 33%;
                width: 30%;
                height: 25px;
                background-color: #c3f3bf;
                border-radius: 2px;
                border: 0;
                padding: 6px;
            }
            .button_search_bar {
                font-size: 13px;
                background: transparent;
                color: white;
            }
            .search_active:hover {
            }

        </style>
        <core-header-panel flex id="header-poly">
            <core-toolbar id="toolbar_header">
                <input type="text" id="search_bar" placeholder="Search a user, library, yap..."/>
                <paper-button class="button_search_bar" role="button" aria-disabled on-tap="{{ goSearch }}">Search</paper-button>
                <paper-button class="button_search_bar" disabled role="button" aria-disabled>Cancel</paper-button>
            </core-toolbar>
        </core-header-panel>
    </template>
    <script>
        Polymer({
            goSearch: function() {
                var url = "app/get_search_results/";
                var search = $('#search_bar').text()

                $.ajax({
                    data : {
                        search: search
                    },
                    url : url,
                    type : "POST",
                    success: function(newData){
                        $('.search_results').append(newData).addClass('search_active');

                    },
                    error: function(newData) {
                        $('.search_results').append(newData).toggleClass('search_active');
                    }
                });
            }
        });
    </script>
</polymer-element>